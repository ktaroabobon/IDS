# プロパティファセット

IFCには、オブジェクトにカスタムデータを添付する方法として**プロパティ**があります。

**プロパティ**には**基本名**（「FireRating」など）があり、これらは似た主題のもので整理される**プロパティセット**にグループ化されます。
プロパティは、ユーザーによって提供された関連する**値**（オーストラリアでの「180/180/180」など）を格納し、適切な場合、IFC形式では計測単位の指定が可能です。

buildingSMARTは、世界中でシームレスなデータ交換を支援するために、標準化された**プロパティセット**と**プロパティ**を提供しています。
たとえば、「FireRating」**プロパティ**はbuildingSMARTによって定義された「Pset_WallCommon」**プロパティセット**の一部です。

ユーザーは独自の**プロパティ**と**プロパティセット**も定義できますが、これらはプロジェクト固有のものであるか、IFCの*
*プロパティセット**テンプレート機能を使用して配布される場合があります。
自然なことですが、カスタムプロパティを発明する前に、可能な限りbuildingSMARTによって標準化された**プロパティ**
を要求することが推奨されます。

すべての標準化された**プロパティセット**には、「Pset_」または「Qto_
」という接頭辞が付いた予約名があります。カスタムプロパティに標準化された接頭辞「Pset_」および「Qto_」を使用することは禁止されています。

標準化された**プロパティ**は、異なるエンティティに適用可能です。たとえば、**LoadBearing**
のようなプロパティは壁、柱、および梁に適用できますが、家具、ダクト、またはケーブルには適用できません。
これは**適用可能エンティティ**として知られています。
IDSで**プロパティ**を指定する際には、どのオブジェクトに適用できるかを考慮することが重要です。
ドア、窓、スラブなどの物理オブジェクトだけでなく、タスク、材料、構造プロファイル断面、労働リソースなどの非物理オブジェクトにも
**プロパティ**を適用できます。

**プロパティ**の特別なタイプとして**数量**が知られています。
**プロパティ**はオブジェクトに関する任意の情報を指しますが、**数量**は特にオブジェクトの計算された寸法、例えば長さ、幅、高さ、表面積、または純体積を指します。
IFCは**プロパティ**と**数量**を区別しますが、IDSではこれらを同じように指定でき、このファセットで**数量**を**プロパティ**
として指定することが許可されています。
**プロパティ**と同様に、**数量**も**数量セット**にグループ化され、**値**を持ちます。

buildingSMARTによって標準化された**プロパティ**を確認するには、以下のリストをチェックしてください。
**プロパティセット**のリストが表示されます。**プロパティセット**をクリックすると、そのページに移動します。
ページのタイトルの直下に**適用可能エンティティ**が表示され、**プロパティ名**と**値**の予想データタイプの表が表示され、*
*適用可能エンティティ**があります。

- [IFC4X3 プロパティと数量セット](http://ifc43-docs.standards.buildingsmart.org/IFC/RELEASE/IFC4x3/HTML/annex-b3.html)
- [IFC4 プロパティセット](https://standards.buildingsmart.org/IFC/RELEASE/IFC4/ADD2_TC1/HTML/link/alphabeticalorder-property-sets.htm)
- [IFC4 数量セット](https://standards.buildingsmart.org/IFC/RELEASE/IFC4/ADD2_TC1/HTML/link/alphabeticalorder-quantity-sets.htm)
- [IFC2X3 プロパティセット](https://standards.buildingsmart.org/IFC/RELEASE/IFC2x3/TC1/HTML/psd/psd_index.htm)

IFC2X3にはbuildingSMARTによる標準化されたプロパティのみがあり、数量は含まれていません。

ドキュメントをチェックする代わりに、IDS作成ソフトウェアが有効な**プロパティセット**を短縮リストできる場合があります。

IDSのファセットでは、プロパティが格納される形式に期待されるデータタイプ（テキスト値、ブール値、または数値など）に制約を持つ場合があります。
数値である場合、値は単位のないもの（何かの値の数を数えるなど）または単位を持つもの（長さ、面積、または流量、圧力、電圧範囲などのようなより複雑な単位）である可能性があります。
以下のリンクで単位の完全なリストを表示できます：

- [IFC4X3 データタイプ](http://ifc43-docs.standards.buildingsmart.org/IFC/RELEASE/IFC4x3/HTML/annex-b2.html)
- [IFC4 データタイプ](https://standards.buildingsmart.org/IFC/RELEASE/IFC4/ADD2_TC1/HTML/link/alphabeticalorder-defined-types.htm)
- [IFC2X3 データタイプ](https://standards.buildingsmart.org/IFC/RELEASE/IFC2x3/TC1/HTML/alphabeticalorder_definedtype.htm)

便宜上、一般的なデータタイプの短いリストがここに示されています：

| データタイプ           | 使用シナリオ                                         |
|------------------|------------------------------------------------|
| IFCLABEL         | 人によって読まれることを意図した最も単純なテキスト値                     |
| IFCIDENTIFIER    | コンピュータによって読まれることを意図した識別コード、通常はコンピュータによって生成されます |
| IFCTEXT          | 人によって読まれることを意図した長い説明                           |
| IFCBOOLEAN       | 真または偽（時にははい/いいえとしても知られています）の選択                 |
| IFCINTEGER       | 任意の整数、例えば 1, 2, 3, など。                         |
| IFCREAL          | 任意の数、例えば 1, 2, 3.14, など。                       |
| IFCCOUNTMEASURE  | 何かの量を数えるために使用される整数                             |
| IFCLENGTHMEASURE | 何かの物理的な長さを測るために使用される数値                         |
| IFCAREAMEASURE   | 何かの物理的な面積を測るために使用される数値                         |
| IFCVOLUMEMEASURE | 何かの物理的な体積を測るために使用される数値                         |
| IFCDATE          | 何かが起こる予定の、または起こった日付、例えば 2020-01-01             |
| IFCDURATION      | 時間の期間、例えば 3か月、1週間、4日、または1時間。                   |

IDSは現在、すべての測定値ベースの値をSI単位に基づいて指定しています。[IDS単位表](units.md)
で各データタイプに指定された単位の完全なリストを見ることができます。
特定の測定（例えばIfcLengthMeasure）を要求するためにデータタイプを使用することができる一方で、IDSを使用して特定の単位（例えばメートル、インチ、またはミリメートル）で長さを測定することを要求することはできません。
この機能は将来のバージョンのIDSで導入される可能性があります。

プロパティは、モデルのオブジェクトに補足情報を提供する上で重要です。

可能な限りbuildingSMARTによって標準化された**プロパティ**に従うことが推奨されます。これにより、データは高度に構造化され、予測可能に取得できます。

**プロパティファセット**は、IDSで最も一般的に使用される側面の1つと考えられています。

## パラメータ

| パラメータ        | 必須 | 制約許可 | 許可される値                                                                                         | 意味                                                                                                                                                                                         |
|--------------|----|------|------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **プロパティセット** | ✔️ | ✔️   | カスタムまたはbuildingSMARTによって標準化されたプロパティセットの名前。標準化された名前は "Pset_" または "Qto_" で始まり、IFC文書で見つけることができます。 | オブジェクトには指定されたプロパティセットが存在します。                                                                                                                                                               |
| **基本名**      | ✔️ | ✔️   | 任意のテキストプロパティ名。buildingSMARTによって標準化されたプロパティ名は、buildingSMARTの文書で見つけることができます。                     | プロパティは指定されたプロパティセット内に存在し、空でない値を持たなければなりません。                                                                                                                                                |
| **データタイプ**   | ❌  | ✔️   | 参照されたスキーマバージョンと互換性のある有効なデータタイプ、大文字で表現されます。                                                     | 値は指定されたデータタイプを使用しなければなりません。[IDS単位表](units.md)で指定された単位に基づいて値のタイプが格納されますが、プロジェクトは任意の単位を使用できるため、プロジェクトの値は比較前にSI単位に変換されなければなりません。ユーザーインターフェースでは、開発者やユーザーが好む任意の単位を表示することが許可されます。                |
| **値**        | ❌  | ✔️   | プロパティのデータタイプに適した任意の値。指定されていない場合、任意の空でない値が許可されます。[IDS単位表](units.md)で定義された単位に従って測定タイプの値が格納されます。  | 属性の値は一致しなければなりません。数値を指定する場合は、小数点区切りとしてドットを使用し、千の区切りとしては使用しない必要があります（例：`4.2` は有効ですが、`1.234,5` は無効です）。科学記法が許可されています（例：`1000` を表すために `1e3`）。真または偽を指定する場合、`TRUE` または `FALSE` を大文字で指定する必要があります。 |
| **URI**      | ❌  | ❌    | ISO 23386に準拠したプロパティを識別するURI                                                                    | 有効なURIは、たとえば[Fire Rating](https://search.bsdd.buildingsmart.org/Property/Index/115666)プロパティのための[buildingSMART Data Dictionary](https://search.bsdd.buildingsmart.org/)で見つけることができます。        |

## 例

| 適用範囲                                                                              | 要件                                                                                            | ファセット定義                                                                                             |
|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
| 音響評価を持つ任意の壁エンティティ                                                                 | エンティティ（例：壁）は音響評価を持たなければなりません                                                                  | Property Set="Pset\_WallCommon", Name="AcousticRating"                                              |
| 「2HR」の防火評価を持つ任意の柱エンティティ                                                           | エンティティ（例：柱）は「2HR」の防火評価を持たなければなりません                                                            | Property Set="Pset\_ColumnCommon", Name="FireRating", value="2HR"                                   |
| 20〜100立方メートルの純体積を持つ任意のスラブエンティティ                                                   | エンティティ（例：スラブ）は20〜100立方メートルの純体積を持たなければなりません                                                    | Property Set="Qto\_SlabBaseQuantities", Name="NetVolume", Value="[20<=Value<=100](restrictions.md)" |
| 現場打ちまたはプレキャストのコンクリート要素のいずれか                                                       | エンティティ（例：スラブ）は現場打ちまたはプレキャストのいずれかの鋳造方法を持たなければなりません                                             | Property Set="Pset\_ConcreteElementGeneral", Name="CastingMethod", value=["INSITU", "PRECAST"]      |
| MyCompany_Concreteプロパティセットに格納されたConcreteMixというカスタムプロパティをA、B、Cのいずれかから選択した任意のエンティティ | エンティティはMyCompany_Concreteというプロパティセットに格納されたConcreteMixというカスタムプロパティをA、B、Cのいずれかから選択して持たなければなりません | Property Set="MyCompany\_Concrete", Name="ConcreteMix", value=["A", "B", "C"]                       |
