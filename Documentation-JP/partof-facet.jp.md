# PartOfファセット

このファセットは、あるオブジェクトが別のオブジェクトの一部であること（適用範囲）、またはそうであることを要求すること（要件）を識別します。

IFC内のオブジェクトは他のオブジェクトに対して複数の関係を持つことができますが、IDS
part-ofは、エンティティが別のエンティティの一部であるかどうかを判断するために、以下のタイプを再帰的にナビゲートします：

- **IFCRELAGGREGATES**
  関係は、複数の小さなサブオブジェクトが単一の大きなオブジェクトに集約される方法を説明します。例えば、多くの建物階が建物を構成する場合、または多くの梁、床板、ジョイントがスラブを構成する場合、あるいは多くのブラケット、マリオン、鋼板がアセンブリを構成する場合などがあります。
- **IFCRELASSIGNSTOGROUP**
  関係は、複数のオブジェクトが任意のユースケースのオブジェクトのコレクションにグループ化される方法を説明します。例えば、ダクト、AHU、ファン、ルーバーが単一の配管・配線システムにグループ化される場合、またはケーブル、配電盤、GPOが単一の回路にグループ化される場合、あるいはスペースがゾーンにグループ化されたり、保守可能な資産がインベントリにグループ化されたりする場合などがあります。
- **IFCRELCONTAINEDINSPATIALSTRUCTURE**
  関係は、複数のオブジェクトが特定の場所に位置する方法を記述します。例えば、ポンプがある空間内に、柱が建物の2階に、またはいくつかの公共の屋外家具が建築現場にあるかもしれません。すべてのオブジェクトはIFC内で単一の主要な位置容器を持たなければならず、複数の場所（例えば、複数階にわたる柱など）で参照されることがあっても、この関係は主要な位置容器のみを対象とします。
- **IFCRELNESTS**
  関係は、物理的オブジェクトが大きなホストオブジェクトに接続されることを説明します。通常、事前に開けられた穴や接続端子などの物理的接続を介しています。ホストが移動すると、接続されたネストされたオブジェクトもそれに伴って移動します。
- **IFCRELVOIDSELEMENT** 関係は、ボイドが要素に属していることを説明します。
- **IFCRELFILLSELEMENT** 関係は、要素がボイドを埋めることを説明し、それをボイドの一部とします。

`relation` パラメータが指定されていない場合は、6つのうちのどれでも（再帰的に）含有エンティティを識別するために考慮されますが、指定された場合はその関係タイプのみが（再帰的に）評価されます。

![part ofの識別例](../Documentation/graphics/partof-Relations.png)

## パラメータ

| パラメータ      | 必須 | タイプ      | 許可される値                                         | 意味                                                                                     |
|------------|----|----------|------------------------------------------------|----------------------------------------------------------------------------------------|
| **エンティティ** | ✔️ | エンティティ側面 | 有効なIDS `entityType`、XML内にネストされる（例：「IFCSYSTEM」） | 必要なエンティティと一致する大きなオブジェクトのIFCクラス。                                                        |
| **関係**     | ❌  | 文字列      | 上記にリストされた6つのサポートされるタイプから1つを選択                  | 省略された場合、直接または間接的に、かつ推移的に（再帰的に）評価されるべき任意の有効なIFC関係構造です。指定された場合は、指定されたタイプのみが（再帰的に）評価されます。 |

## 例

| 適用範囲                              | 要件                                   | ファセット定義                                                         |
|-----------------------------------|--------------------------------------|-----------------------------------------------------------------|
| カーテンウォールを直接構成する任意のエンティティ          | エンティティ（例：マリオン）はカーテンウォールの一部でなければなりません | Relation="IFCRELAGGREGATES", Entity="IFCCURTAINWALL"            |
| カーテンウォールの直接的または間接的な一部である任意のエンティティ | エンティティ（例：マリオン）はカーテンウォールの一部でなければなりません | Entity="IFCCURTAINWALL"                                         |
| 配管・配線システムの一部であるエンティティ             | エンティティ（例：ダクト）は配管・配線システムの一部でなければなりません | Relation="IFCRELASSIGNSTOGROUP", Entity="IFCDISTRIBUTIONSYSTEM" |
| 空間にあるエンティティ                       | エンティティ（例：ポンプ）は空間にある必要があります           | Relation="IFCRELCONTAINEDINSPATIALSTRUCTURE", Entity="IFCSPACE" |
| 洗面器に取り付けられた任意のエンティティ              | エンティティ（例：蛇口）は洗面器に固定されていなければなりません     | Relation="IFCRELNESTS", Entity="IFCSANITARYTERMINAL"            |
| 洗面器に取り付けられた任意の窓                   | エンティティ（例：蛇口）は洗面器に固定されていなければなりません     | Relation="IFCRELNESTS", Entity="IFCSANITARYTERMINAL"            |
